## GOROOT、GOPATH、GOBIN 都有什么作用？

GOROOT：Go 语言安装根目录的路径，也就是 GO 语言的安装路径。

GOPATH：若干工作区目录的路径。是我们自己定义的工作空间。

GOBIN：GO 程序生成的可执行文件（executable file）的路径。

## 你知道设置 GOPATH 有什么意义吗？

你可以把 GOPATH 简单理解成 Go 语言的工作目录，它的值是一个目录的路径，也可以是多个目录路径，每个目录都代表 Go 语言的一个工作区（workspace）。

我们需要利于这些工作区，去放置 Go 语言的源码文件（source file），以及安装（install）后的归档文件（archive file，也就是以“.a”为扩展名的文件）和可执行文件（executable file）。

## Go 语言源码的组织方式有哪些？

- 一个代码包中可以包含任意个以.go 为扩展名的源码文件，这些源码文件都需要被声明属于同一个代码包。

- 代码包的名称一般会与源码文件所在的目录同名。如果不同名，那么在构建、安装的过程中会以代码包名称为准。

- 在工作区中，一个代码包的导入路径实际上就是从 src 子目录，到该包的实际存储位置的相对路径。

Go 语言源码的组织方式就是以环境变量 GOPATH、工作区、src 目录和代码包为主线的。一般情况下，Go 语言的源码文件都需要被存放在环境变量 GOPATH 包含的某个工作区（目录）中的 src 目录下的某个代码包（目录）中。

## 源码安装后？

- 那么在安装后如果产生了归档文件（以“.a”为扩展名的文件），就会放进该工作区的 pkg 子目录；如果产生了可执行文件，就可能会放进该工作区的 bin 子目录。
- 某个工作区的 src 子目录下的源码文件在安装后一般会被放置到当前工作区的 pkg 子目录下对应的目录中，或者被直接放置到该工作区的 bin 子目录中。

![img](02_Go%E9%9D%A2%E8%AF%95%E7%81%B5%E9%AD%82%E6%8B%B7%E9%97%AE.assets/2fdfb5620e072d864907870e61ae5f3c.png)

## 理解构建和安装 Go 程序的过程

- 如果安装的是库源码文件，那么结果文件会被搬运到它所在工作区的 pkg 目录下的某个子目录中。
- 如果安装的是命令源码文件，那么结果文件会被搬运到它所在工作区的 bin 目录中，或者环境变量GOBIN指向的目录中。
- 安装操作会先执行构建，然后还会进行链接操作，并且把结果文件搬运到指定目录。